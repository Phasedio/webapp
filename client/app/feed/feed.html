<style>
	/*.hero-img {
		background:  linear-gradient(
			rgba(0, 0, 0, 0.25),
			rgba(0, 0, 0, 0.25)
		), url(assets/images/{{dayImage}}) no-repeat center center ;
		-webkit-background-size: cover;
		-moz-background-size: cover;
		-o-background-size: cover;
		background-size: cover;
	}*/
</style>
<div ng-include="'components/navbar/navbar.html'"></div>
<section class="hero-img">
</section>
<section>
<div class="feedarea">

	<div class="container-fluid">
		<div class="row">
			<div class="col-xs-12 col-md-4 col-lg-6">
				<div class="ph-card ph-team">

					<div class="ph-tasks">
						<p class="semi">
							tasks
						</p>
						<div class="ph-task" ng-repeat="assignment in activeStream  | filterTaskByStatus : activeStatusFilter | orderObjectBy : 'time'">
							<p>{{assignment.name}} - <small>{{taskStatuses[assignment.status].name}}</small></p>
							<!-- <div class="ph-task-btns">
								<button class="btn btn-phased-blue" ng-if="assignment.status == taskStatusID.ASSIGNED" ng-click="startTask(assignment)">Start</button>
			          <button class="btn btn-phased-blue" ng-if="assignment.status != taskStatusID.COMPLETE" ng-click="setTaskCompleted(assignment.key)">complete</button>
							</div> -->

						</div>
						<div class="ph-task blank" ng-repeat="item in taskTable">
							<textarea></textarea>
						</div>
						<a class="btn btn-phased-blue btn-block" href="/tasks">Add New</a>
					</div>
				</div>
			</div>
			<div class="col-xs-12 col-md-8 col-lg-6 ph-update-area">
				<div class="ph-card">
					<form class="ph-form-feed" name="taskForm" ng-submit="addTask(task)" novalidation>
						<input type="text" ng-model="task.name" ng-trim="false" maxlength="150" placeholder="enter your status here" required>
						<div class="ph-form-extras">
							<div class="ph-cat-list">
								<button type="button"  ng-repeat="(key, category) in team.categoryObj" ng-show="$index<6" class="btn button-phased-wht" ng-class="{active : key == selectedCategory}" style="outline: none; color:#000; font-size:1.2rem;" ng-click="categoryChoice(key)">
            <div class="feed-cat-color" style="width: 1rem; height: 1rem; margin-right:0.5rem; display: inline-block; background-color:{{category.color}}"></div>
            {{category.name}}
          </button>
							</div>
							<button type="button" ng-click="moreCat()">+</button>
							<button type="submit">submit</button>

						</div>
					</form>
				</div>
				<div class="ph-card no-padding">

					<div class="ph-feed-filter">
						<div class="ph-feed-total">
							<p class="semi">updates <span>{{team.history.length}}</span>
						</div>
					</div>
					<div class="ph-feed-roll">
						<div class="ph-update" ng-repeat="item in team.history | orderBy : 'time':true | limitTo :100">
							<div class="ph-feed-head">
								<img src="{{$parent.team.members[item.user].pic}}" width="40px" height="40px">
							</div>
							<div class="ph-feed-status">
								<p><span class="update-name">{{$parent.team.members[item.user].name}}</span> {{item.name}}</p>
							</div>
							<div class="ph-feed-meta">
								<span am-time-ago="item.time"></span>
								<div class="ph-feed-cat">
									<div class="ph-cat-box" style="background: {{$parent.team.categoryObj[item.cat].color}}"></div>
									<span>{{$parent.team.categoryObj[item.cat].name}}</span>
								</div>
							</div>
						</div>


					</div>
				</div>
			</div>
			<div class="hidden">
					<div class="ph-card">
						<div class="ph-member-total">
								<p class="semi">members <span>{{team.teamLength}}</span>
						</div>
						<div class="ph-members">
							<div class="ph-member-head" ng-repeat="member in team.lastUpdated | orderBy : 'time':true ">
								<img src="{{member.pic}}" width="40px" height="40px">
								<p>Last update <span am-time-ago="member.time"></span> </p>
							</div>


						</div>

					</div>
			</div>

		</div>
</div>

<!--Categories Modal-->
<div class="modal fade" id="catModal">
<div class="modal-dialog" style="width:60%">
	<div class="modal-content">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			<h4 class="modal-title no-shadow">Choose a Category </h4>
		</div>
		<div class="modal-body switchTeam" >
			<div ng-repeat="(key, category) in team.categoryObj" >
				<button class="btn btn-block button-phased" style="outline: none; " ng-click="categoryChoice(key,true)">
					<div class="row" style="padding:2%;">
						<div class="col-xs-1" style="padding-top:1%">
							<div class="feed-cat-color" style="width: 1rem; height: 1rem; display: inline-block; background-color:{{category.color}}"></div>
						</div>
						<div style="text-align:left; padding-left:2%; padding-top:6px;" class="col-xs-10">
							<h5>{{category.name}}</h5>
						</div>
					</div>
				</button>
			</div>
			<div >
				<button class="btn btn-block button-phased" style="outline: none; " ng-click="addNewCat()">
					<div class="row" style="padding:2%;">
						<div class="col-xs-1" style="padding-top:1%">
							<div class="feed-cat-color" style="width: 1rem; height: 1rem; display: inline-block; background-color:{{category.color}}"></div>
						</div>
						<div style="text-align:left; padding-left:2%; padding-top:6px;" class="col-xs-10">
							<h5>Add New Category</h5>
						</div>
					</div>
				</button>
			</div>
		</div>
	</div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->
</div><!-- /.modal -->
